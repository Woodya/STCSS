/*! STCSS v1.3 Beta | Julien Roy - royjulien.com | 12.03.13 */
;var htmlEditor=CodeMirror.fromTextArea(document.getElementById("html-box"),{theme:"monokai",lineNumbers:true,matchBrackets:true}),i=0,processTag="#generate",renderTag="code",indentation="&nbsp;&nbsp;&nbsp;&nbsp;",brackets={o:" {",c:"}"},ul={o:"<ul>",c:"</ul>"},li={o:"<li>",c:"</li>"},cssComment='<span class="comment">/* MAIN CSS <br/> ********************/ <br/></span>',globalCssComment='<span class="comment">/* GLOBALS <br/> ********************/ <br/></span>',stcss=function(){var u="",c="",h="",b=[],r=[],o=[],g=[],s=[],q=function(j){j.children().each(function(){b.push(this);q($(this))})},p=function(j){return $(renderTag).append(j)};q($(processTag));u+=ul.o;c+=ul.o;for(i=0;i<b.length;i+=1){var e=$(b[i]).parents().length,a=b[i].tagName.toLowerCase();if(a!=="script"){var f=b[i].attributes;if(f.length){for(var l=0;l<f.length;l+=1){var n=f[l].nodeName,d=f[l].nodeValue;if(g.indexOf(d)>0){h+='<span class="warning">';h+="Duplicate Found: ";h+="#"+d;h+="</span><br/>"}else{if(o.indexOf(d)<0){o.push(d);if(n=="id"||n=="class"){c+=li.o;for(var m=2;m<e;m+=1){c+=indentation}switch(n){case"id":g.push(d);c+="#"+d;c+=brackets.o;c+=brackets.c;break;case"class":s.push(d);var t=d.replace(" ",".");c+="."+t;c+=brackets.o;c+=brackets.c;break}c+=li.c}}}}}else{if(a=="header"||a=="nav"||a=="footer"){for(var m=2;m<e;m+=1){c+=indentation}c+='<span class="comment">';c+="/* "+a.toUpperCase()+" */";c+="</span><br/>";for(var m=2;m<e;m+=1){c+=indentation}c+=a;c+=brackets.o;c+=brackets.c}else{if(r.indexOf(a)<0){r.push(a);u+=li.o;u+=a;u+=brackets.o;u+=brackets.c;u+=li.c}}}}}u+=ul.c;c+=ul.c;if(h.length){p(h)}if(u.length){u=globalCssComment+u}p(u);if(c.length){c=cssComment+c}p(c)};htmlEditor.on("change",function(a){this.value=a.getValue();$("#generate").html($(this.value));if($(renderTag).html().length>0){$(renderTag).html("")}stcss()});stcss();